# Bellabeat Capstone Project in R

This project is part of the work requested for the completion of the Google Data Analytics Professional Certificate. A 8 course programme built to create the foundation for data analytics for enrolled students. Participants are taught key analytical skills (data cleaning, analysis & visualization, presentation) and important tools (Excel, SQL, R Programming, Tableau).

-   1. [Introduction](#1-introduction)

-   2. [Ask Phase](#2-ask-phase)

-   3. [Prepare Phase](#3-prepare-phase)

    -   3.1 [Origin of Dataset](#31-origin-of-dataset)
    -   3.2 [Accessibility and Privacy of Data](#32-accessibility-and-privacy-of-data)
    -   3.3 [Information about our dataset](#33-information-about-our-dataset)
    -   3.4 [Data organization and verification](#34-data-orginization-and-verification)
    -   [3.5 Data limiations](#35-data-limitations)

-   4. [Process Phase](#4-process-phase)

    -   4.1. [Installing packages and opening libraries](#41-installing-packages-and-opening-libraries)
    -   4.2. [Importing datasets](#42-importing-datasets)
    -   4.3. [Preview our datasets](#43-preview-our-datasets)
    -   4.4. [Cleaning and formatting](#44-cleaning-and-formatting)
    -   4.4.1. [Duplicates Checking](#441-duplicates-checking)
    -   4.4.2. [Removing Duplicates and N/A](#442-removing-duplicates-and-na)
    -   4.4.3. [Verification of cleaning](#443-verification-of-cleaning)

-   5. [Analyze and Share Phase](#5-analyze-and-share-phase)

    -   5.1. [Steps by days and calories](#51-steps-by-days-and-calories)
    -   5.2. [Activity and Heart Rate](#52-activity-and-heart-rate)
    -   5.3. [Calories and Heart Rate](#53-calories-and-heart-rate)
    -   5.4. [Sleep Rate and Activity Time](#54-sleep-rate-and-activity-time)

-   6. [Conclusions](#6-conclusions)

## 1. Introduction

[Bellabeat](https://bellabeat.com/) is a high-tech wellness company that primarily focuses on the female demographic, with a goal to enhance and engage them in better health practices. The wellness is also a field that Google operates in, primarily their Fitbit product line, a similar product line that focuses on monitoring the health of the users through various measurements. Through using fitbit's data, I intend to uncover beneficial insights to both myself and Bellabeat, with the goal of improving their product line and marketing strategies.

## 2. Ask Phase

1.What are the trends and health of the users of non-Bellabeat products?\
2.How could these trends apply to Bellabeat customers?\
3.How could these trends help influence Bellabeat marketing strategy?

## 3. Prepare Phase

### 3.1. Origin of Dataset

The origin of my dataset that is used for analysis is based on FitBit Fitness Tracker dataset (CC0: Public Domain). It is available on [Kaggle](https://www.kaggle.com/datasets/arashnic/fitbit) hosted and maintained by the user, Mobius.

### 3.2. Accessibility and Privacy of Data

The data is licensed under CC0: Public Domain,as such anyone associated a work with this deed is waiving all of his or her rights to the work worldwide under copyright law, including all related and neighboring rights, to the extend by law. The work can be copied, modified, distributed and perform the work, even for commercial purposes, all without asking permission.

### 3.3. Information about our dataset

The original dataset generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. Variation between output represents use of different types of Fitbit trackers and individual tracking behaviors / preferences.

### 3.4. Data Organization and verification

The original dataset is composed of of 18 .csv files. 15 in long format, 3 in wide format. Several data frames will not be used for the analysis because of the following reasons:

-   They are in a minute-level output.
-   They are not relevant enough in the intended analysis.

### 3.5. Data Limitation

-   **No Metadata Provided:** Information such as location, lifestyle, weather, temperature, humidity etc. would provide a deeper context to the data obtained.

-   **Other Relevant Data Unavailable** Data related to health such as illnesses, conditions or exceptions such as unique body consitution was also not provided. As these are information that are under strict privacy policy, it is available for open-source use.

-   **Missing Demographics:** Key demographics data such as gender, age, were not identified. This is an extremely crucial missing information since Bellabeat creates women-centric products. Insights obtained may not reflect the differences in physiology and activity patterns between different demographic groups. However, as such information is under a strict privacy policy, it will have to overlooked.

-   **Small Sample Size:** Thirty users is not an ideal sample size where multiple independent variables are involved. Especially when health and lifestyle data is varied across different facets of society. Insights gained may not apply to all.

-   **Data Collection Period:** 31 days of data is limited in providing high-level recommendations. Seasonal trends impacts heavily on user activity and lifestyle choices. E.g. User's excercise habits may heightened between summer and winter.

## 4. Process Phase

Initial data processing was done using SQL and Excel. Continued data processing, analysis and visualization will all be done in R Programming with R Studio.

### 4.1. Installing packages and opening libraries

The following packages will be used for our analysis: 'tidyverse', 'here', 'skimr', 'lubridate', 'janitor', 'viridis', 'ggpubr', 'scales', 'waffles', 'ggrepel', 'plotly'

```{r echo=FALSE, message=FALSE}
install.packages("tidyverse")
install.packages("dplyr")
install.packages("ggpubr")
install.packages("lubridate")
install.packages("skimr")
install.packages("janitor")
install.packages("ggrepel")
install.packages("plotly")
install.packages("RColorBrewer")
```

```{r echo=FALSE, message=FALSE}
library(tidyverse)
library(dplyr)
library(ggpubr)
library(lubridate)
library(skimr)
library(janitor)
library(ggrepel)
library(plotly)
library(RColorBrewer)
```

### 4.2. Importing datasets

The following tables will be used:

| Table Name                   | Type                | Description                                                                             |
|------------------------------|---------------------|-----------------------------------------------------------------------------------------|
| 1\. Active Time & Heart rate | Microsoft Excel CSV | The average heart rate value of that along with the different activity time             |
| 2\. Calories & Steps         | Microsoft Excel CSV | Daily Calories burned over 31 days along with the amount of steps taken during each day |
| 3\. Activity & Sleep rate    | Microsoft Excel CSV | The different amount of activity time and sleep rate per day                            |
| 4\. Heart Rate & Calories    | Microsoft Excel CSV | The average daily heart rate along with calories burnt for that day                     |

```{r echo=FALSE, message=FALSE}
active_time_and_heart_rate <- read_csv("Active Time &amp; Heartrate.csv")
calories_and_steps <- read_csv("Calories &amp; Steps.csv")
heart_rate_and_calories <- read_csv("Heartrate &amp; Calories.csv")
activity_and_sleep_rate <- read_csv("Activity_Sleeprate.csv")
```

### 4.3. Preview our datasets

```{r echo=FALSE, message=FALSE}
head(active_time_and_heart_rate, 3)
head(calories_and_steps, 3)
head(activity_and_sleep_rate, 3)
head(heart_rate_and_calories, 3)
```

### 4.4. Cleaning and Formatting

As the target data that we will focus on has been made clear, the next step is to ensure no inconsistencies or errors.

#### 4.4.1. Duplicates Checking

First, we will check for duplicates

```{r echo=FALSE, message=FALSE}
sum(duplicated(active_time_and_heart_rate))
sum(duplicated(calories_and_steps))
sum(duplicated(activity_and_sleep_rate))
sum(duplicated(heart_rate_and_calories))
```

#### 4.4.2. Removing Duplicates and N/A

Although we have checked and receive no duplicates, we also need to ensure that no N/A data remains as well

```{r echo=FALSE, message=FALSE}

active_time_and_heart_rate <- active_time_and_heart_rate %>%
  distinct() %>%
  drop_na()

calories_and_steps <- calories_and_steps %>%
  distinct() %>%
  drop_na()

activity_and_sleep_rate <- activity_and_sleep_rate %>%
  distinct() %>%
  drop_na()

heart_rate_and_calories <- heart_rate_and_calories %>%
  distinct() %>%
  drop_na()
```

#### 4.4.3. Verification of cleaning

To verify that the data has been cleaned

```{r echo=FALSE, message=FALSE}
sum(duplicated(active_time_and_heart_rate))
sum(duplicated(calories_and_steps))
sum(duplicated(activity_and_sleep_rate))
sum(duplicated(heart_rate_and_calories))
```

```{r echo=FALSE, message=FALSE}
sum(is.na(active_time_and_heart_rate))
sum(is.na(calories_and_steps))
sum(is.na(activity_and_sleep_rate))
sum(is.na(heart_rate_and_calories))
```

## 5. Analyze and Share Phase

### 5.1. Steps by days and calories

The first analysis will be focused on the trend of the users through daily total steps as well as how it affects calories burnt.

```{r echo=FALSE, message=FALSE}
calories_and_steps %>%
  ggplot() +
  geom_histogram(mapping = aes(x = totalsteps, fill = ..count..), bins = 40) +
  labs(title = "Distribution of Daily Total Steps", x = "Total Steps", y = "Apperance Rate") +
  scale_fill_gradient(low = "green", high = "red")
```
![Distribution of Daily Total Steps](<Visualization/Distribution of Daily Total Steps.png>)

**Observations**

-   Majority of users takes between mostly 0 to 15000 total steps each day.

-   The amount of steps taken most often is 10000

-   Frequent breaks are also observed

```{r echo=FALSE, message=FALSE}
calories_and_steps %>%
  ggplot() +
  geom_histogram(mapping = aes(x = calories, fill = ..count..), bins = 40) +
  labs(title = "Distribution of Daily Calories Burnt", x = "Calories", y = "Appearance Rate") +
  scale_fill_gradient(low = "green", high = "red")
```
![Distribution of Daily Calories Burnt](<Visualization/Distribution of Daily Calories Burnt.png>)

**Observations**

-   Generally, the amount of calories burnt per day frequently hovers around 1400 to 3000, with some burning more, up to 5000

-   The amount of calories burnt with the highest appearance rate is roughly 2000, with 1900 being the amount most often burnt per day

```{r echo=FALSE, message=FALSE}
ggplot(calories_and_steps, aes(x = totalsteps, y=calories))+
  geom_jitter()+
  geom_smooth(color="red")+
  labs(title = "Daily steps and Calories Burnt Correlation", x = "Daily steps", y= "Calories") +
   theme(panel.background = element_blank(),
        plot.title = element_text( size=14))
```
![Daily steps and Calories burnt correlation](<Visualization/Daily steps and Calories burnt correlation.png>)

**Observations**

-   As expected, as people take more total steps each day, the amount of calories burnt increases

-   Multiple points of calories burnt at less than 10000 steps indicate that users often participate in non-walking activities

### 5.2. Activity and Heart Rate

```{r echo=FALSE, message=FALSE}
active_time_and_heart_rate$veryactiveminutes <- as.numeric(active_time_and_heart_rate$veryactiveminutes)
active_time_and_heart_rate$fairlyactiveminutes <- as.numeric(active_time_and_heart_rate$fairlyactiveminutes)
active_time_and_heart_rate$lightlyactiveminutes <- as.numeric(active_time_and_heart_rate$lightlyactiveminutes)
active_time_and_heart_rate$sedentaryminutes <- as.numeric(active_time_and_heart_rate$sedentaryminutes)

active_time <- active_time_and_heart_rate %>%
  group_by(activitydate) %>%
  summarise(
    value = mean(value, na.rm = TRUE),
    veryactiveminutes = mean(veryactiveminutes, na.rm = TRUE),
    fairlyactiveminutes = mean(fairlyactiveminutes, na.rm = TRUE),
    lightlyactiveminutes = mean(lightlyactiveminutes, na.rm = TRUE),
    sedentaryminutes = mean(sedentaryminutes, na.rm = TRUE)
  )

active_time_long <- active_time %>%
  gather(key = "activity_type", value = "minutes", 
         veryactiveminutes, fairlyactiveminutes, 
         lightlyactiveminutes, sedentaryminutes)

ggplot(active_time_long, aes(x = activitydate, y = minutes, fill = activity_type)) +
  geom_bar(stat = "identity", position = "stack") +
  labs(title = "Active Minutes by Activity Type",
       x = "Activity Date", y = "Minutes") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))
```
![Active Minutes by Activity Type](<Visualization/Active Minutes by Activity Type.png>)

**Observations**

-   Despite the various users, the average activity time does not differ much by day, indicating similar overall activity time among users

-   Similarly, the time for each type of activity does not differ strongly, showing no special trend even among possible weekends

```{r echo=FALSE, message=FALSE}
plot_veryactive <- ggplot(active_time_and_heart_rate, aes(x = veryactiveminutes, y = value)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "red") +
  ggtitle("Very Active Minutes and Heart Rate Value") +
  xlab("Very Active Minutes") +
  ylab("Heart Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

plot_fairlyactive <- ggplot(active_time_and_heart_rate, aes(x = fairlyactiveminutes, y = value)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "blue") +
  ggtitle("Fairly Active Minutes and Heart Rate Value") +
  xlab("Fairly Active Minutes") +
  ylab("Heart Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

plot_lightlyactive <- ggplot(active_time_and_heart_rate, aes(x = lightlyactiveminutes, y = value)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "purple") +
  ggtitle("Lightly Active Minutes and Heart Rate Value") +
  xlab("Lightly Active Minutes") +
  ylab("Heart Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

plot_sedentary <- ggplot(active_time_and_heart_rate, aes(x = sedentaryminutes, y = value)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "green") +
  ggtitle("Sedentary Minutes and Heart Rate Value") +
  xlab("Sedentary Minutes") +
  ylab("Heart Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

ggarrange(plot_veryactive, plot_fairlyactive, plot_lightlyactive, plot_sedentary,
          ncol = 2, nrow = 2)
```
![Activity Time and Heart Rate correlation](<Visualization/Activity Time and Heart Rate correlation.png>)

**Observations**

-   Being more active have no significant effect on heartrate, with slight effects as longer active time indicate possible lowering of average heart rates.

-   Higher heart rate correlates more with longer inactivity time, indicating that inactivity has a negative effect on heart rate.

### 5.3. Calories and Heart Rate

```{r echo=FALSE, message=FALSE}
heart_rate_and_calories %>%
  ggplot() +
  geom_histogram(mapping = aes(x = value, fill = ..count..), bins = 40) +
  labs(title = "Distribution of Average Daily Heart Rate", x = "Heart Rate", y = "Frequency") +
  scale_fill_gradient(low = "blue", high = "red")
```
![Distribution of Average Daily Heart Rate](<Visualization/Distribution of Average Daily Heart Rate.png>)

**Observations**

-   Heart rate tends to be between 60 and 90 with some reaching a high average of 100 or higher

-   Heart rate average of 70 to 80 is the most common

```{r}
ggplot(heart_rate_and_calories, aes(x = value, y=calories))+
  geom_jitter()+
  geom_smooth(color="midnightblue", se=FALSE)+
  labs(title = "Calories Burnt and Heart Rate Correlation", x = "Heart Rate", y= "Calories Burnt") +
   theme(panel.background = element_blank(),
        plot.title = element_text( size=12))
```
![Calories Burnt and Heart Rate Correlation](<Visualization/Calories Burnt and Heart Rate Correlation.png>)

**Observations**

-   Calories burnt per day has a negative correlation with higher heart rate

-   Currently lacking in observations

### 5.4. Sleep Rate and Activity Time

```{r echo=FALSE, message=FALSE}
activity_and_sleep_rate %>%
  summarize(sleeprate= (totalminutesasleep/totaltimeinbed)*100) %>%
  ggplot() +
  geom_histogram(mapping = aes(x = sleeprate, fill = ..count..), bins = 45) +
  labs(title = "Distribution of Sleep Rate", x = "Sleep Rate", y = "Appearance Rate") +
  scale_fill_gradient(low = "red", high = "purple")
```
![Distribution of Sleep Rate](<Visualization/Distribution of Sleep Rate.png>)

**Observations**

-   Users has generally a high sleep rate, with the most common sleep time being 95% of their time in bed

-   However, some users seems to experience trouble sleeping, with some showing less than 80% sleep time in bed.

```{r echo=FALSE, message=FALSE}
activity_and_sleep_rate_per <- activity_and_sleep_rate %>%
  mutate(sleeprate= (totalminutesasleep/totaltimeinbed)*100)

plot_veryactive <- ggplot(activity_and_sleep_rate_per, aes(x = veryactiveminutes, y = sleeprate)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "red") +
  ggtitle("Very Active Minutes and Sleep Rate") +
  xlab("Very Active Minutes") +
  ylab("Sleep Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

plot_fairlyactive <- ggplot(activity_and_sleep_rate_per, aes(x = fairlyactiveminutes, y = sleeprate)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "blue") +
  ggtitle("Fairly Active Minutes and Sleep Rate") +
  xlab("Fairly Active Minutes") +
  ylab("Sleep Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

plot_lightlyactive <- ggplot(activity_and_sleep_rate_per, aes(x = lightlyactiveminutes, y = sleeprate)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "purple") +
  ggtitle("Lightly Active Minutes and Sleep Rate") +
  xlab("Lightly Active Minutes") +
  ylab("Sleep Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

plot_sedentary <- ggplot(activity_and_sleep_rate_per, aes(x = sedentaryminutes, y = sleeprate)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE, color = "green") +
  ggtitle("Sedentary Minutes and Sleep Rate") +
  xlab("Sedentary Minutes") +
  ylab("Sleep Rate Value")+
  theme(panel.background = element_blank(), plot.title = element_text(size=12), axis.title.x = element_text(size = 10), axis.title.y = element_text(size = 10))

ggarrange(plot_veryactive, plot_fairlyactive, plot_lightlyactive, plot_sedentary,
          ncol = 2, nrow = 2)
```
![Activity Time and Sleep Rate](<Visualization/Activity Time and Sleep Rate.png>)

**Observations**

-   Lightly active and very active time seems to have a positive effect on the ability to sleep of the users

-   Fairly active time, however, has a negative effect on user's ability to sleep

-   Sedentary has very little to no effect.

## 6. Conclusions

As we conclude this project, I would like to provide my insights and recommendations based on the analysis conducted.

To preface, Bellabeat primarily focus on a female audience for their target market, as such the data provided may not entirely be suitable, especially in consideration of the data sample size and target or rather lack thereof, to create suitable insights and recommendations for supporting the advancement of their product line. Therefore, we heavily believe that any internal studies and research conducted by Bellabeat would be much more beneficial to them, as we currently can not guarantee there are not any sampling bias or the correct demographic has been chosen.

With that said, I would like to revisit our initial questions to share what we have uncovered:

1. What are the trends and health of the users of non-Bellabeat products?

-   Users show consistent active time each day overall, indicating willingness to maintain their daily steps suggestion

-   Overall trends show maintain certain level of activity have a positive effect on the heart rate and sleep of users

-   There are outliers indicating over activeness, affecting the user's actual sleep time, which could lead to possible negative results in daily lives.

2. How could these trends apply to Bellabeat customers?

-   Despite the disparity between demographic for the products, as both products are considered to be fitness products intended to provide users with data on their lifestyle and health, common trends from users of non-Bellabeat could still very well apply to customers of Bellabeat products

3. How could these trends help influence Bellabeat marketing strategy?

-   Bellabeat app developer can focus on ensuring proper levels of activity via notification on whether they have achieve the recommended amount of activity per day, not just in steps, and advising them on how beneficial it would be to maintain a certain level of workout.

-   Bellatbeat marketing can also make use of this fact, warning people to actively monitor their activity more, showing that being under or over active can lead to problems in their daily lives, negatively affecting their lives through means of sleep and heart rate. With marketing, Bellabeat can encourage more users via suggesting them to monitor themselves more thoroughly with fitness device, ensuring they achieve their recommended active level.
